{% extends 'base.html' %}
{% load static %}
{% block content %}
    <link href="/static/styles.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <style>
        .containerWare {
            display: flex;
            flex-wrap: wrap;
        }

        .containerWare li {
            flex: 0 0 calc(33.33% - 20px); /* 20px is just an arbitrary margin */
            margin: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* optional */
            border: 1px solid #e4e4e4; /* optional */
        }

        #searchBar {
            padding: 6px;
            width: 300px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

    </style>

    <h1>Neue Rechnung erstellen</h1>
    <div class="form-control">
        <label for="auswahlGeraet">Choose a machine:</label>
        <select id="auswahlGeraet" name="maschine">
            <option value="------------">------------</option>
            <option value="waschmaschine">Waschmaschine</option>
            <option value="spuelmaschine">Spülmaschine</option>
            <option value="kuehlschrank">Kühlschrank</option>
            <option value="herdset">Herdset</option>
            <option value="herdplatte">Herdplatte</option>
            <option value="standherd">Standherd</option>
            <option value="backofen">Backofen</option>
            <option value="trockner">Trockner</option>
            <option value="abzughaube">Abzughaube</option>
            <option value="sonst">Sonst</option>
            <option value="geraete">Geräte</option>
        </select>
    </div>

    <div style="padding-top: 8px">
        <input type="text" id="searchBar" placeholder="Search for a machine...">
    </div>

    <div id="waschmaschine-container" style="display: none">
        <ul class="containerWare">
            {% for waschmaschin in waschmaschine|dictsort:'marke' %}
                <li>
                    <h2>{{ waschmaschin.marke }}</h2>
                    <p>Model: {{ waschmaschin.model }}</p>
                    <p>Preis: {{ waschmaschin.preis }}</p>
                    <p>Anzahl: {{ waschmaschin.anzahl }}</p>
                    <p><a href="{% url 'verkauf' waschmaschin.id 'waschmaschine' %} " class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="spuelmaschine-container" style="display: none">
        <ul class="containerWare">
            {% for spuelmaschin in spuelmaschine|dictsort:'marke' %}
                <li>
                    <h2>{{ spuelmaschin.marke }}</h2>
                    <p>Model: {{ spuelmaschin.model }}</p>
                    <p>Preis: {{ spuelmaschin.preis }}</p>
                    <p>Anzahl: {{ spuelmaschin.anzahl }}</p>
                    <p><a href="{% url 'verkauf' spuelmaschin.id 'spuelmaschine' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="kuehlschrank-container" style="display: none">
        <ul class="containerWare">
            {% for kuehlschran in kuehlschrank|dictsort:'marke' %}
                <li>
                    <h2>{{ kuehlschran.marke }}</h2>
                    <p>Model: {{ kuehlschran.model }}</p>
                    <p>Preis: {{ kuehlschran.preis }}</p>
                    <p>Anzahl: {{ kuehlschran.anzahl }}</p>
                    <p><a href="{% url 'verkauf' kuehlschran.id 'kuehlschrank' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="herdset-container" style="display: none">
        <ul class="containerWare">
            {% for herdse in herdset|dictsort:'marke' %}
                <li>
                    <h2>{{ herdse.marke }}</h2>
                    <p>Model: {{ herdse.model }}</p>
                    <p>Preis: {{ herdse.preis }}</p>
                    <p>Anzahl: {{ herdse.anzahl }}</p>
                    <p><a href="{% url 'verkauf' herdse.id 'herdset' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="herdplatte-container" style="display: none">
        <ul class="containerWare">
            {% for herdplatt in herdplatte|dictsort:'marke' %}
                <li>
                    <h2>{{ herdplatt.marke }}</h2>
                    <p>Model: {{ herdplatt.model }}</p>
                    <p>Preis: {{ herdplatt.preis }}</p>
                    <p>Anzahl: {{ herdplatt.anzahl }}</p>
                    <p><a href="{% url 'verkauf' herdplatt.id 'herdplatte' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="standherd-container" style="display: none">
        <ul class="containerWare">
            {% for standher in standherd|dictsort:'marke' %}
                <li>
                    <h2>{{ standher.marke }}</h2>
                    <p>Model: {{ standher.model }}</p>
                    <p>Preis: {{ standher.preis }}</p>
                    <p>Anzahl: {{ standher.anzahl }}</p>
                    <p><a href="{% url 'verkauf' standher.id 'standherd' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="backofen-container" style="display: none">
        <ul class="containerWare">
            {% for backofe in backofen|dictsort:'marke' %}
                <li>
                    <h2>{{ backofe.marke }}</h2>
                    <p>Model: {{ backofe.model }}</p>
                    <p>Preis: {{ backofe.preis }}</p>
                    <p>Anzahl: {{ backofe.anzahl }}</p>
                    <p><a href="{% url 'verkauf' backofe.id 'backofen' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="trockner-container" style="display: none">
        <ul class="containerWare">
            {% for trockne in trockner|dictsort:'marke' %}
                <li>
                    <h2>{{ trockne.marke }}</h2>
                    <p>Model: {{ trockne.model }}</p>
                    <p>Preis: {{ trockne.preis }}</p>
                    <p>Anzahl: {{ trockne.anzahl }}</p>
                    <p><a href="{% url 'verkauf' trockne.id 'trockner' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="abzughaube-container" style="display: none">
        <ul class="containerWare">
            {% for abzughaub in abzughaube|dictsort:'marke' %}
                <li>
                    <h2>{{ abzughaub.marke }}</h2>
                    <p>Model: {{ abzughaub.model }}</p>
                    <p>Preis: {{ abzughaub.preis }}</p>
                    <p>Anzahl: {{ abzughaub.anzahl }}</p>
                    <p><a href="{% url 'verkauf' abzughaub.id 'abzughaube' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div id="sonst-container" style="display: none">
        <ul class="containerWare">
            {% for sons in sonst|dictsort:'marke' %}
                <li>
                    <h2>{{ sons.marke }} {{ sons.geraet }}</h2>
                    <p>Model: {{ sons.model }}</p>
                    <p>Preis: {{ sons.preis }}</p>
                    <p>Anzahl: {{ sons.anzahl }}</p>
                    <p><a href="{% url 'verkauf' sons.id 'sonst' %}" class="btn">Verkaufen</a></p>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div data-session-timeout="{{ SESSION_COOKIE_AGE }}" id="sessionTimeoutData"></div>
    <script>
        $("#auswahlGeraet").on('change', () => {
            var x = $("#auswahlGeraet option:selected").text();
            if (x == 'Waschmaschine') {
                $("#waschmaschine-container").show();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();

            } else if (x == 'Spülmaschine') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").show();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();

            } else if (x == 'Kühlschrank') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").show();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();

            } else if (x == 'Herdset') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").show();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();
            } else if (x == 'Herdplatte') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").show();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();
            } else if (x == 'Standherd') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").show();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();
            } else if (x == 'Backofen') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").show();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();

            } else if (x == 'Trockner') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").show();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").hide();
            } else if (x == 'Abzughaube') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").show();
                $("#sonst-container").hide();
                $("#geraete-container").hide();
            } else if (x == 'Sonst') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").show();
                $("#geraete-container").hide();
            } else if (x == 'Geräte') {
                $("#waschmaschine-container").hide();
                $("#spuelmaschine-container").hide();
                $("#kuehlschrank-container").hide();
                $("#herdset-container").hide();
                $("#herdplatte-container").hide();
                $("#standherd-container").hide();
                $("#backofen-container").hide();
                $("#trockner-container").hide();
                $("#abzughaube-container").hide();
                $("#sonst-container").hide();
                $("#geraete-container").show();
            }
        });
    $(document).ready(function(){
    $("#searchBar").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $(".containerWare li").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });
});

    </script>
{% endblock %}
